#!/bin/bash

# Check if docker is running
if ! docker info > /dev/null 2>&1; then
  echo "Error: Docker is not running. Please start Docker Desktop."
  exit 1
fi

# Run mpdev container with platform specification for Apple Silicon
docker run \
  --rm \
  --platform linux/amd64 \
  --interactive \
  --tty \
  --net=host \
  -v "$HOME/.config/gcloud":/root/.config/gcloud \
  -v "$HOME/.kube":/root/.kube \
  -v "$(pwd)":/data \
  -w /data \
  gcr.io/cloud-marketplace-tools/k8s/dev:latest \
  "$@"
